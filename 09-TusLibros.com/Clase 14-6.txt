La cara interna habla al mismo nivel credit card , excepciones
externas json , asxml 

Los objetos simuladores se basan en poliformismo

Objetos Simuladores

Originalmente se lo llamaban Test Double, usa como analogia a los actores dobles 
Hay 4 tipos
Los Dummy , Stabs , Mocks y los Fake
x cuestion de herramientas se suele llamarlos Mock

Los Dummy , como no se usan , se puede usar cualquier cosa , en general se usa nil , creo una cosa vacia
basicNew en smalltalk

Los Fake implementan la misma funcionalidad pero mas simplle , mas liviana , base de datos en memoria
Para que los tests corran mas rapido

Stabs , es lo que hicieron, simuladores al que se le configuran la respuesta que queremos obtener . Simuladores mas comunes y utilizados
Aserto como se comportaron los objetos, que hacen.
Mocks : Son parecidos a los stabs, pero se lo configuran de manera diferente.Escribe asertiones

Lo que cambia es como escribo los tests, los mocks asertan como colaboraon los objetos, que mensajes se mandaron

Con stabs , los tests siguen siendo funcionales y de caja negra
Con mocks pasan a ser de caja blanca . De alguna manera se fija como esta implementado el cajero

Tienden a generar falsos positivos y falsos negativos. Conclusion hay que usar stabs


En Java, a los mocks/stabs se los creabas con el mensaje mock y por eso quedo el nombre

Nunca testear a partir del user interface , tampoco usar selenium .


En la vida real los tests que escribimos deberian poder interactuar con el merchant processor de verdad 


Arquitecrura
Los IBM mainFrame imprimian los resultados . Eran monoloticias donde habia una cajita que tenia todo

MainFrame = Una compuntadora , muchos usuarios
Arquectura Fisica / Logica
Cliente Inteligente / Bobo
est se monta sobre http
Test que se asegura que el carrito se muere despues de 30 minutos.
No puede tener sleep ni delay.No puede demorar 30 minutos
No puede modificar la hora de la maquina
No pueden romper el encapsulamiento
Solo pueden entender 5 mensajes

laTarjejita
